<mat-card class="mt-3">
  <app-form-actions [actions]="formActions" (OnShowList)="showDriverList()" (OnSave)="submit()" (OnAdd)="reset()">
  </app-form-actions>
  <form [formGroup]="form">
    <div class="row">
      <div class="col-md-3">
        <mat-form-field >
          <mat-label> شخص</mat-label>
          <input (keyup)="searchPerson(form.get('personId')?.value)" matInput formControlName="personId" type="text" [matAutocomplete]="auto">
          <mat-autocomplete
            (optionSelected)="getDriverInformationByPersonId($event.option.value.id)"
            #auto="matAutocomplete"
            [displayWith]="getPersonDisplayName.bind(this)">

            <mat-option *ngFor="let person of persons" [value]="person.id">
              {{[person.firstName,person.lastName].join(' ')}}
            </mat-option>
          </mat-autocomplete>
        </mat-form-field>


      </div>
      <div class="col-md-3">
        <mat-form-field >
          <mat-label>شماره گواهینامه</mat-label>
          <input matInput formControlName="driveingLisenceNumber" type="text">
        </mat-form-field>
      </div>
      <div class="col-md-3">
        <mat-form-field >
          <mat-label>تاریخ انقضای گواهینامه</mat-label>
          <input tabindex="6" matInput [matDatepicker]="picker" formControlName="driveingLisenceExpiryDate">
          <mat-datepicker-toggle matSuffix [for]="picker">
            <mat-icon matDatepickerToggleIcon>
              <img class="mb-3" src="/assets/icons/calendar.svg" alt="">
            </mat-icon>
          </mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>
      </div>
      <div class="col-md-3">
        <mat-form-field >
          <mat-label>نرخ</mat-label>
          <input matInput formControlName="rate" type="text">
        </mat-form-field>
      </div>
      <div class="col-md-3">
        <mat-form-field >
          <mat-label>شماره کارت هوشمند سلامت</mat-label>
          <input matInput formControlName="healthSmartCardNumber" type="text">
        </mat-form-field>
      </div>
      <div class="col-md-3">
        <mat-form-field >
          <mat-label>تاریخ انقضای کارت هوشمند سلامت</mat-label>
          <input tabindex="6" matInput [matDatepicker]="picker2" formControlName="healthSmartCardExpiryDate">
          <mat-datepicker-toggle matSuffix [for]="picker2">
            <mat-icon matDatepickerToggleIcon>
              <img class="mb-3" src="/assets/icons/calendar.svg" alt="">
            </mat-icon>
          </mat-datepicker-toggle>
          <mat-datepicker #picker2></mat-datepicker>
        </mat-form-field>
      </div>
      <div class="col-md-3">
        <mat-form-field >
          <mat-label>نوع گواهینامه</mat-label>
          <mat-select formControlName="drivingLisenceBaseTypeId">
            <mat-option *ngFor="let driveType of driveTypes" [value]="driveType.id">{{driveType.title}}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
    </div>
  </form>
</mat-card>
